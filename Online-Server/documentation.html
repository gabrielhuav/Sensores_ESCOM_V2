<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Server Documentation</title>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"
      rel="stylesheet"
    />
    <style>
      body {
        padding: 20px;
        background-color: #f5f5f5;
      }
      .container {
        max-width: 800px;
        margin: auto;
      }
      .card {
        margin-bottom: 20px;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1 class="center-align">WebSocket Server Documentation</h1>
      <div class="section">
        <div class="card blue-grey darken-1">
          <div class="card-content white-text">
            <span class="card-title">Overview</span>
            <p>
              This server allows players to connect via WebSocket, update their
              positions in real-time, and receive updates about other players'
              positions.
            </p>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="card">
          <div class="card-content">
            <span class="card-title">Technologies Used</span>
            <ul>
              <li>Node.js</li>
              <li>Express.js</li>
              <li>WebSocket (via the <code>ws</code> library)</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="card">
          <div class="card-content">
            <span class="card-title">Features</span>
            <ul>
              <li>Handles player connections and disconnections.</li>
              <li>
                Synchronizes player positions across all connected clients.
              </li>
              <li>Provides a basic HTTP route for server status.</li>
            </ul>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="card">
          <div class="card-content">
            <span class="card-title">Setup Instructions</span>
            <ol>
              <li>Ensure Node.js is installed.</li>
              <li>
                Install dependencies using <code>npm install express ws</code>.
              </li>
              <li>Start the server using <code>node server.js</code>.</li>
            </ol>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="card">
          <div class="card-content">
            <span class="card-title">WebSocket Message Types</span>
            <h3>Incoming Messages</h3>
            <table class="highlight">
              <thead>
                <tr>
                  <th>Type</th>
                  <th>Description</th>
                  <th>Example</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>join</td>
                  <td>A new player joins the server.</td>
                  <td>
                    <pre><code>{
  "type": "join",
  "id": "player1"
}</code></pre>
                  </td>
                </tr>
                <tr>
                  <td>update</td>
                  <td>A player updates their position.</td>
                  <td>
                    <pre><code>{
  "type": "update",
  "id": "player1",
  "x": 100,
  "y": 200
}</code></pre>
                  </td>
                </tr>
                <tr>
                  <td>leave</td>
                  <td>A player leaves the server.</td>
                  <td>
                    <pre><code>{
  "type": "leave",
  "id": "player1"
}</code></pre>
                  </td>
                </tr>
              </tbody>
            </table>
            <h3>Outgoing Messages</h3>
            <table class="highlight">
              <thead>
                <tr>
                  <th>Type</th>
                  <th>Description</th>
                  <th>Example</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <td>positions</td>
                  <td>
                    The server broadcasts the updated positions of all players.
                  </td>
                  <td>
                    <pre><code>{
  "type": "positions",
  "players": {
    "player1": { "x": 100, "y": 200 },
    "player2": { "x": 50, "y": 75 }
  }
}</code></pre>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="section">
        <div class="card">
          <div class="card-content">
            <span class="card-title">API Endpoints</span>
            <ul>
              <li>
                <strong>GET /</strong>: Returns a simple status message
                indicating the server is running.
              </li>
              <li>
                <strong>GET /documentation</strong>: Returns this documentation
                page.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
  </body>
</html>
